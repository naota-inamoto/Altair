<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<TITLE>Altair Editor</TITLE>
</HEAD>

<BODY>
<H1>Altairのエディタの使い方</H1>

第0.43版 2016年10月23日<BR>
第0.00版 1996年 2月11日<BR>

<HR>
Altairではメニューバーを使うことはほとんどありません。<BR>
代わりに、ウィンドウ上の右ボタンプレスで現れるメニューを<BR>
使用します。<BR>

<HR>
<H3><A NAME="input">データ入力方法の原則</A></H3>
Altairの各種エディタはラインエディタが基本になっています。<BR>
改行を入力しなければデータは入力されないのでご注意ください。<BR>
<BR>
Altairでは、エディタのキーボード入力として行の置換と挿入しか考えていません。<BR>
表示されている文字列を変更しその行にキャレットをおいて改行すれば<BR>
原則としてその行は置き換わります。<BR>
改行だけを入力すれば、原則としてその行の下に空の行が現れ、<BR>
ここに挿入する文字列を打ち込むことになります。<BR>
文字列入力後改行を入れるとその文字列が入力されますが、<BR>
モードは挿入モードのままで続けて入力を行うことができます。<BR>
空の行の状態（スペースも入れない）のままで改行を入力すると<BR>
挿入モードから抜けます。<BR>

<HR>
<H3><A NAME="proj_window">プロジェクトウィンドウ</A></H3>
現在読み込まれているプロジェクトの一覧を表示します。<BR>
メニューバーの「プロジェクト - ウィンドウ」で現れます。<BR>
プロジェクトファイル名（拡張子.apr）とそのプロジェクトファイルの<BR>
あるディレクトリが表示されます。<BR>

<H3><A NAME="class_window">クラスウィンドウ</A></H3>
ひとつのプロジェクト内で使われているクラスのクラス階層を表示します。<BR>
プロジェクトウィンドウのプロジェクト上でダブルクリックすると<BR>
現れます。<BR>

<H3><A NAME="member_window">メンバーウィンドウ</A></H3>
あるクラスの持っているメンバーの一覧を表示します。<BR>
クラスウィンドウのクラス上でダブルクリックすると現れます。<BR>

<H3><A NAME="body_window">ボディウィンドウ</A></H3>
あるメンバー関数の中身を表示します。<BR>
メンバーウィンドウのメンバー関数上でダブルクリックすると現れます。<BR>

<H3><A NAME="output_window">アウトプットウィンドウ</A></H3>
結果の出力のために用いられるウィンドウです。<BR>
エラー出力などはこのウィンドウに出力されます。<BR>

<H3><A NAME="user_window">ユーザー定義ウィンドウ</A></H3>
インタプリタ実行中にプログラムで生成されるウィンドウです。<BR>

<HR>
<H3><A NAME="file_new">ファイル-新規作成</A></H3>
Altairの新規プロジェクトを作成します。<BR>
実行するとファイルダイアログが出てきますので<BR>
プロジェクトファイル名とそれの保管場所を入力してください。<BR>
Altairのプロジェクトファイルの拡張子は.aprです。<BR>
Altairは複数のプロジェクトを同時に開くことができます。<BR>

<H3><A NAME="file_open">ファイル-開く</A></H3>
既に存在しているプロジェクトファイルを開きます。<BR>
実行するとファイルダイアログが出てきますので<BR>
プロジェクトファイル名を選択してOKボタンを押してください。<BR>
Altairのプロジェクトファイルの拡張子は.aprです。<BR>
Altairは複数のプロジェクトを同時に開くことができますが、<BR>
以下の場合には同時に開けません。<BR>
<BR>
・プロジェクト間で同じライブラリを使っている場合で、<BR>
ライブラリ内のクラスの プロジェクトで定義した派生クラスで使っている場合で<BR>
その派生クラスの名前が一致している場合。<BR>
<BR>
プロジェクトのロード中に画面が乱れますが、<BR>
気にしなくてかまいません。<BR>

<H3><A NAME="file_save">ファイル-上書き保存</A></H3>
プロジェクトファイルを上書きして更新します。<BR>
Altairは、「新規作成」または「開く」を実行したときに<BR>
プロジェクトファイル名とその保存場所を覚えているので<BR>
そのファイルが更新されます。<BR>
<BR>
ここで注意したければならないことがあります。<BR>
Altairはセーブ対象となっているクラスとその派生クラスだけを<BR>
セーブします。クラスをセーブ対象とするためには、<BR>
クラスウィンドウでセーブするクラスを<A HREF="#class_regist">「クラス登録」</A>しなければ<BR>
なりません。クラス登録していないと何もセーブされていなかったという<BR>
憂き目をみることになるので十分注意してください。<BR>
<BR>
プロジェクトのセーブ中に画面が乱れますが、<BR>
気にしなくてかまいません。<BR>

<H3><A NAME="file_save_as">ファイル-名前を変えて保存</A></H3>
プロジェクトファイルと同じものを別の名前のファイルに保存します。<BR>
実行するとファイルダイアログが出てきますので、<BR>
保存場所とファイル名を入力してください。<BR>
<BR>
この「名前を変えて保存」を行っても、<BR>
「上書き保存」するファイル名は更新されず前のままです。<BR>
<BR>
プロジェクトのセーブ中に画面が乱れますが、<BR>
気にしなくてかまいません。<BR>

<H3><A NAME="file_close">ファイル-閉じる</A></H3>
プロジェクトウィンドウ上のキャレットで指定されるプロジェクトを<BR>
閉じます。<BR>
<BR>
通常プロジェクトは内部にループとなる参照を持っているので、<BR>
何もしなければメモリリークを起こしますが、<BR>
プロジェクトを閉じた後にガーベージコレクションを行っているので<BR>
メモリリークは起こりません。<BR>

<H3><A NAME="file_print">ファイル-印刷</A></H3>
開かれているエディタの中身をテキストのファイルに落とします。<BR>
実行するとファイルダイアログが出てきますので、テキストファイルの<BR>
名前と保存場所を入れてください。<BR>

<H3><A NAME="file_exit">ファイル-終了</A></H3>
Altairを終了します。<BR>
<BR>
Altairを終了するにあたって、<BR>
プログラムが変更されていてもそれに関係なく<BR>
Altairは終了してしまいますので、<BR>
プログラムに変更があった場合は、ユーザーの責任において<BR>
「上書き保存」を行った上で終了してください。<BR>

<HR>
<H3><A NAME="window_redraw">ウィンドウ-再表示</A></H3>
そのウィンドウの再表示を行います。<BR>
<BR>
表示が乱れた場合や入力内容が正しく入力されたかのチェックなどに<BR>
用います。<BR>
<BR>
注: 再表示を行うと表示位置が内容の最初になってしまいます。<BR>

<H3><A NAME="window_parent">ウィンドウ-親エディタ</A></H3>
メンバーウィンドウなら元のクラスウィンドウを<BR>
ボディウィンドウなら元のメンバーウィンドウをレイズします。<BR>

<H3><A NAME="window_close">ウィンドウ-閉じる</A></H3>
そのウィンドウを閉じます。<BR>
<BR>
プロジェクトウィンドウ、クラスウィンドウ、メンバーウィンドウを<BR>
閉じると、その子孫のウィンドウも閉じます。<BR>

<H3><A NAME="window_close_all">ウィンドウ-すべて閉じる</A></H3>
すべてのチャイルドウィンドウを閉じます。<BR>

<HR>
<H3><A NAME="mark_output">アウトプットにマーク</A></H3>
アウトプットウィンドウにマークとなる文字列を出力します。<BR>
<BR>
アウトプットウィンドウがないときはアウトプットウィンドウを出します。<BR>
あるときはアウトプットウィンドウをレイズします。<BR>

<H3><A NAME="gc">ガーベージコレクション</A></H3>
ガーベージコレクションを行います。<BR>
<BR>
回収されたセルの数、使用中のセルの数等の情報を<BR>
アウトプットウィンドウに出力します。<BR>
<BR>
どこからも参照されていないクラス/メンバー変数/メンバー関数は削除できるはずですが、<BR>
ガーベージから参照されている場合があります。<BR>
この場合、クラス/メンバー変数/メンバー関数を削除することができません。<BR>
これが原因でクラスの削除ができない場合はこのメニュー項目を実行した後で<BR>
クラス/メンバー変数/メンバー関数を削除することができるようになります。<BR>

<HR>
<H3><A NAME="proj_up"></A>プロジェクトの項目を上へ移動</A></H3>
プロジェクトウィンドウに複数のプロジェクトが表示されている場合に<BR>
プロジェクトの表示順序を変えるのに用います。<BR>

<H3><A NAME="proj_down"></A>プロジェクトの項目を下へ移動</A></H3>
プロジェクトウィンドウに複数のプロジェクトが表示されている場合に<BR>
プロジェクトの表示順序を変えるのに用います。<BR>

<H3><A NAME="load_with_output"></A>ソースを出力しながら開く</A></H3>
Altairでは変数の削除などの編集後のプログラムの正当性のチェックをしていないので<BR>
セーブしたファイルにエラーが含まれることがあります。<BR>
このようなエラーを含むテキスト形式のファイル（プロジェクト/ライブラリ）を開く場合、<BR>
ロードエラーになりロードができず、原因がなかなか分かりません。<BR>
また、やむお得ずテキスト形式のファイルを手で編集した場合も同様のことが発生します。<BR>
このような場合に、エラーの原因を特定するため、ソースをアウトプットウィンドウに<BR>
出力しながらロードを行う機能があります。<BR>
ロードエラーが発生したとき、アウトプットウィンドウに出力された最後の文にエラーが<BR>
含まれています。<BR>
<BR>
このメニュー項目はトグルになっていてソースを出力するか否かを切り換えます。<BR>

<HR>
<H3><A NAME="class_elder_brother">クラス挿入位置を上に</A></H3>
クラスウィンドウで新規クラスを挿入するとき、キャレットのあるクラスから<BR>
見てどこに挿入するかを指定するメニュー項目です。<BR>
このメニュー項目を実行すると、新規クラスはキャレットのあるクラスと<BR>
兄弟クラスとなり、ウィンドウ上では新規クラスの方が上にきます。<BR>

<H3><A NAME="class_brother">クラス挿入位置を下に</A></H3>
クラスウィンドウで新規クラスを挿入するとき、キャレットのあるクラスから<BR>
見てどこに挿入するかを指定するメニュー項目です。<BR>
このメニュー項目を実行すると、新規クラスはキャレットのあるクラスと<BR>
兄弟クラスとなり、ウィンドウ上では新規クラスの方が下にきます。<BR>

<H3><A NAME="class_child">クラス挿入位置を子クラスに</A></H3>
クラスウィンドウで新規クラスを挿入するとき、キャレットのあるクラスから<BR>
見てどこに挿入するかを指定するメニュー項目です。<BR>
このメニュー項目を実行すると、新規クラスはキャレットのあるクラスの<BR>
派生クラスととなり、ウィンドウ上では新規クラスの方が下にきます。<BR>
これがデフォルトです。<BR>

<H3><A NAME="class_up">クラスを上に移動</A></H3>
クラス階層を変えるためのメニュー項目のひとつです。<BR>
キャレットのあるクラスをひとつ上に動かします。<BR>
このメニュー項目を実行してもクラス階層図は意味的には<BR>
変わりません。<BR>

<H3><A NAME="class_down">クラスを下に移動</A></H3>
クラス階層を変えるためのメニュー項目のひとつです。<BR>
キャレットのあるクラスをひとつ下に動かします。<BR>
このメニュー項目を実行してもクラス階層図は意味的には<BR>
変わりません。<BR>

<H3><A NAME="class_left">クラスを左に移動</A></H3>
クラス階層を変えるためのメニュー項目のひとつです。<BR>
キャレットのあるクラスがその親クラスと兄弟クラスになります。<BR>

<H3><A NAME="class_right">クラスを右に移動</A></H3>
クラス階層を変えるためのメニュー項目のひとつです。<BR>
キャレットのあるクラスがひとつ上の兄弟クラスの派生クラスに<BR>
なります。<BR>

<H3><A NAME="class_delete">クラスの削除</A></H3>
クラスを削除します。<BR>
<BR>
削除するクラスはどこからも使われていない場合にのみ<BR>
削除することが可能です。どこからか参照されていると<BR>
削除できない旨のメッセージがアウトプットウインドウに<BR>
出されます。<BR>

<H3><A NAME="class_regist_list">登録クラスの一覧</A></H3>
現在セーブ対象になっているクラスの名前を<BR>
アウトプットウィンドウに出力します。<BR>
セーブ対象になっているクラスとは「クラス登録」したクラスのことです。<BR>

<H3><A NAME="class_regist">クラス登録</A></H3>
プロジェクトで使っているクラスをセーブ対象のクラスとして登録します。<BR>
<BR>
このクラス登録をしないとプログラムが保存されませんので十分注意して<BR>
ください。<BR>
<BR>
クラス登録するとそのクラスの派生クラスもすべてセーブ対象になりますので<BR>
先祖クラスがセーブ対象になっていればそのクラスをクラス登録する必要は<BR>
ありません。<BR>
逆にこれをクラス登録してしまうとロード時にクラス名が<BR>
バッティングしてしまいロードエラーになってしまいますので<BR>
注意してください。<BR>

<H3><A NAME="class_unregist">クラス登録の解除</A></H3>
「クラス登録」されているクラスを登録解除します。<BR>

<H3><A NAME="class_mklib">ライブラリ作成（１）</A></H3>
現在キャレットのあるクラスとその派生クラスをライブラリにします。<BR>
ライブラリにはテキスト形式とグラフ形式があります。<BR>
テキスト形式はサイズは小さいですがロードにかなりの時間がかかります。<BR>
グラフ形式はサイズはやや大きいですがロードが高速です。<BR>
また、外部への参照があってもテキスト形式ライブラリは作れますが、<BR>
外部への参照があるとグラフ形式ライブラリを作ることはできません。<BR>
<BR>
Altairのバージョンがあがるとグラフ形式のライブラリはファイル互換性が<BR>
なくなります。テキスト形式のライブラリは互換性があります。<BR>
グラフ形式のライブラリを作るときには同時にテキスト形式の<BR>
ライブラリも作っておいた方がよいです。<BR>
<BR>
ライブラリの作成中に画面が乱れますが、<BR>
気にしなくてかまいません。<BR>

<H3><A NAME="class_mklib2">ライブラリ作成（２）</A></H3>
テキスト形式、グラフ形式では、ひとつのクラスをルートとして<BR>
その派生クラスしかライブラリに含めることができません。<BR>
テキスト２形式は、派生関係にない複数のクラスをひとつのライブラリに<BR>
するための形式です。<BR>
複数のクラスをルートとしたライブラリ作成と言うことができます。<BR>
「クリア」はルートとなるクラスをなくします。<BR>
「クラスリスト」は現在登録されているルートクラスのリストを出力します。<BR>
「クラスの追加」は、現在キャレットの置かれているクラスをルートの<BR>
ひとつとして登録します。<BR>
「作成」を行うとファイルダイアログが現れ、<BR>
ファイル名を指定してテキスト２形式のライブラリを作成します。<BR>
<BR>
注： テキスト２形式ライブラリは複数のプロジェクトで共有することは<BR>
できません。<BR>

<H3><A NAME="class_lib_load">ライブラリのロード</A></H3>
プロジェクトにライブラリをロードします。ロードしたら「上書き保存」を<BR>
してください。次回からプロジェクトを開くと自動的にそのライブラリが<BR>
ロードされるようになります。<BR>
<BR>
ライブラリが参照しているクラスは前もってロードされていなければなりません。<BR>
ライブラリのロード中に画面が乱れますが、気にしなくてかまいません。<BR>

<H3><A NAME="class_lib_tmp_load">ライブラリの一時ロード</A></H3>
「ライブラリのロード」と基本的に同じですが、<BR>
一時ロードではプロジェクトにライブラリが登録されません。<BR>

<H3><A NAME="class_memory">使用メモリ容量</A></H3>
Altairは20バイトのセルを基本単位としています。<BR>
このセルと文字列領域でAltairが純粋にヒープ領域として<BR>
何バイトメモリを使っているかをアウトプットウィンドウに出力します。<BR>

<H3><A NAME="update_vtbl">VTBLアップデート</A></H3>
VTBL(バーチャル関数テーブル)を最新の状態にアップデートします。<BR>
<BR>
Altairは実行を始める前にVTBL(バーチャル関数テーブル)を最新の状態にアップデートします。<BR>
Altairは、プログラムの実行中にもたいていの場合はインタラクティブにプログラムの修正が<BR>
問題なく行えます。しかしながら、クラスへの関数の追加や関数のプロトタイプの変更を行った場合、<BR>
既に作成されているオブジェクトのクラスのVTBL(バーチャル関数テーブル)が不整合を起こします。<BR>
不整合を起こした関数を実行するとエラーが発生することがあります。<BR>
VTBLアップデートを行えばVTBLの不整合が解消され、関数の追加や置き換えを行った後でも<BR>
既に作成済みのオブジェクトを破棄したり、プログラムを停止させずに実行を続けることができます。<BR>

<HR>
<H3><A NAME="member_upper">メンバー挿入位置を上に</A></H3>
入力のときに、キャレットのある行の上の行にメンバーを挿入するようにします。<BR>

<H3><A NAME="member_lower">メンバー挿入位置を下に</A></H3>
入力のときに、キャレットのある行の下の行にメンバーを挿入するようにします。<BR>
これがデフォルトです。<BR>

<H3><A NAME="member_up">メンバーを上に移動</A></H3>
クラスのメンバーを見やすくするために並べ換えるためのものです。<BR>
キャレットで指定されるメンバーを上に移動します。<BR>

<H3><A NAME="member_down">メンバーを下に移動</A></H3>
クラスのメンバーを見やすくするために並べ換えるためのものです。<BR>
キャレットで指定されるメンバーを下に移動します。<BR>

<H3><A NAME="member_delete">メンバーの削除</A></H3>
メンバーを削除します。<BR>
<BR>
削除するメンバーはどこからも使われていない場合にのみ<BR>
削除することが可能です。<BR>
どこからか参照されていると削除できない旨のメッセージが<BR>
アウトプットウインドウに出されます。<BR>

<H3><A NAME="interp_test">インタプリタテスト実行</A></H3>
キャレットのおいてある引数なしのstatic関数を実行します。<BR>
そのときに開いているウィンドウはそのままです。<BR>

<H3><A NAME="interp">インタプリタ実行</A></H3>
キャレットのおいてある引数なしのstatic関数を実行します。<BR>
そのときに開いているウィンドウはすべて閉じてから実行されます。<BR>

<HR>
<H3><A NAME="body_upper">行挿入位置を上に</A></H3>
入力のときに、キャレットのある行の上の行に文を挿入するようにします。<BR>
このメニュー項目は実行しないでください。<BR>

<H3><A NAME="body_lower">行挿入位置を下に</A></H3>
入力のときに、キャレットのある行の下の行に文を挿入するようにします。<BR>
これがデフォルトです。<BR>

<H3><A NAME="body_cut">カット</A></H3>
ボディウィンドウ上で選択された範囲のテキストをカットします。<BR>
このときカットされた文がクリップボードに入ります。<BR>

<H3><A NAME="body_copy">コピー</A></H3>
ボディウィンドウ上で選択された範囲のテキストを<BR>
クリップボードにコピーします。<BR>

<H3><A NAME="body_paste">貼り付け</A></H3>
ボディウィンドウ上のキャレットのある行の後にクリップボードの内容を<BR>
挿入します。このとき、文法のチェックも行われますので何でもペースト<BR>
するわけにはいきません。<BR>

<H3><A NAME="body_delete">削除</A></H3>
ボディウィンドウ上で選択された範囲のテキストを削除します。<BR>

<HR>
<H3><A NAME="user_menu">ユーザー定義ウィンドウのメニュー項目</A></H3>
ユーザー定義ウィンドウには、プログラムで任意のメニュー項目を<BR>
出すことができます。<BR>

<HR>
</BODY>
</HTML>
